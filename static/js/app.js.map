{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?b794","webpack:///./src/App.vue","webpack:///src/components/Index.vue","webpack:///./src/components/Index.vue?ab01","webpack:///./src/components/Index.vue","webpack:///src/components/Add.vue","webpack:///./src/components/Add.vue?21a1","webpack:///./src/components/Add.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["App","name","components","data","path","this","$store","state","path_curent","computed","menus","window","MENU","formatMenu","mounted","methods","pmenu","_this","k","obj","isNaN","title","expand","render","h","_ref2","root","node","style","display","width","props","type","marginRight","on","click","getParent","children","push","formatTitle","_ref","goto","names","split","replace","location","href","encodeURIComponent","$route","path_selected","edit","_this2","jquery_default","a","ajax","url","method","file","CURPATH","action","success","err","$router","$Message","error","msg","selectortype_template_index_0_src_App","_vm","_h","$createElement","_c","_self","staticClass","attrs","mode","theme","active-name","_v","to","background","hide-trigger","renderContent","padding","margin","_l","item","index","_s","length","_e","minHeight","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","Index","attachments","ATTACHMENTS","html","content","HTML","mavon_editor","nl2br","str","is_xhtml","components_Index","domProps","innerHTML","target","src_components_Index","Index_normalizeComponent","Add","mavonEditor","tag","default_files","PATH","slice","join","TITLE","$imgAdd","pos","$file","formdata","FormData","append","axios","headers","Content-Type","then","$vm","$img2Url","successHandle","response","fileList","errHandle","removeFile","i","splice","saveHtml","stringify_default","components_Add","id","span","staticStyle","height","placeholder","model","value","callback","$$v","$set","expression","margin-left","multiple","on-error","on-success","on-remove","default-file-list","color","size","ref","imgAdd","save","src_components_Add","Add_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","component","config","productionTip","iview_default","vuex_esm","store","Store","mutations","el","template"],"mappings":"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","file":"static/js/app.js","sourcesContent":["<style scoped>\r\n.layout{\r\n    border: 1px solid #d7dde4;\r\n    background: #f5f7f9;\r\n    position: relative;\r\n    border-radius: 4px;\r\n    overflow: hidden;\r\n}\r\n.layout-logo{\r\n    width: 100px;\r\n    height: 30px;\r\n    background: #5b6270;\r\n    border-radius: 3px;\r\n    float: left;\r\n    position: relative;\r\n    top: 15px;\r\n    left: 10px;\r\n    text-align: center;\r\n    line-height: 30px;\r\n    vertical-align: middle;\r\n    color: #ccc;\r\n}\r\n.layout-nav{\r\n    width: 100px;\r\n    margin: 0 auto;\r\n    margin-right: 20px;\r\n}\r\n.layout-nav a{\r\n  color: #ccc;\r\n}\r\n</style>\r\n<template>\r\n    <div class=\"layout\">\r\n        <Layout>\r\n            <Header>\r\n                <Menu mode=\"horizontal\" theme=\"dark\" active-name=\"1\">\r\n                    <div class=\"layout-logo\">qWiKi</div>\r\n                    <div class=\"layout-nav\">\r\n                        <MenuItem name=\"1\">\r\n                          <router-link to=\"/add\">\r\n                            <Icon type=\"edit\"></Icon>\r\n                            写文档\r\n                          </router-link>\r\n                        </MenuItem>\r\n                    </div>\r\n                </Menu>\r\n            </Header>\r\n            <Layout>\r\n                <Sider hide-trigger :style=\"{background: '#fff'}\">\r\n                    <Tree :data=\"data\" :render=\"renderContent\"></Tree>\r\n                </Sider>\r\n                <Layout :style=\"{padding: '0 24px 24px'}\">\r\n                    <Breadcrumb :style=\"{margin: '24px 0'}\">\r\n                        <BreadcrumbItem v-for=\"(item,index) in $store.state.path_curent\">\r\n                          {{ item }}\r\n                          <span v-if=\"index===($store.state.path_curent.length-1) && $route.path!=='/add' && $route.path!=='/edit'\"><a href=\"javascript:void(0);\" @click=\"edit\"><Icon type=\"compose\"></Icon></a></span>\r\n                        </BreadcrumbItem>\r\n                    </Breadcrumb>\r\n                    <Content :style=\"{padding: '24px', minHeight: '280px', background: '#fff'}\">\r\n                        <router-view></router-view>\r\n                    </Content>\r\n                </Layout>\r\n            </Layout>\r\n        </Layout>\r\n    </div>\r\n</template>\r\n<script>\r\n  import $ from 'jquery'\r\n  export default {\r\n    name: 'App',\r\n    components: {\r\n      \r\n    },\r\n    data () {\r\n        return {\r\n            path: this.$store.state.path_curent\r\n        }\r\n    },\r\n    computed: {\r\n      data: function() {\r\n        let datas = []\r\n        let menus = window.MENU\r\n        return this.formatMenu(menus, '')\r\n      }\r\n    },\r\n    mounted() {\r\n      \r\n    },\r\n    methods: {\r\n      formatMenu(menus, pmenu){\r\n        let data = []\r\n        for(let k in menus){\r\n          let obj = {}\r\n          if(!isNaN(k)){\r\n            let path = pmenu + '/' + menus[k]\r\n            obj.title = this.formatTitle(menus[k])\r\n            obj.render = (h, { root, node, data }) => {\r\n                            return h('span', {\r\n                              style: {\r\n                                display: 'inline-block',\r\n                                width: '100%'\r\n                              }\r\n                            }, [\r\n                              h('span', [\r\n                                h('Icon', {\r\n                                  props: {\r\n                                    type: 'ios-paper-outline'\r\n                                  },\r\n                                  style: {\r\n                                    marginRight: '8px'\r\n                                  }\r\n                                }),\r\n                                h('a', {\r\n                                  props: {\r\n                                      type: 'text'\r\n                                  },\r\n                                  on: {\r\n                                      click: () => { this.goto(path) }\r\n                                  }\r\n                                }, data.title)\r\n                              ]),\r\n                            ]);\r\n                          } \r\n            data.push(obj)\r\n          }\r\n          else{\r\n            pmenu = pmenu + '/' + k\r\n            obj.title = k\r\n            obj.expand = true\r\n            obj.render = (h, { root, node, data }) => {\r\n                return h('span', {\r\n                  style: {\r\n                    display: 'inline-block',\r\n                    width: '100%'\r\n                  }\r\n                }, [\r\n                  h('span', [\r\n                    h('Icon', {\r\n                      props: {\r\n                        type: 'ios-folder-outline'\r\n                      },\r\n                      style: {\r\n                        marginRight: '8px'\r\n                      }\r\n                    }),\r\n                    h('a', {\r\n                      props: {\r\n                          type: 'text'\r\n                      },\r\n                      on: {\r\n                          click: () => { this.getParent(pmenu) }\r\n                      }\r\n                    }, data.title)\r\n                  ]),\r\n                ]);\r\n              }\r\n            obj.children = this.formatMenu(menus[k], pmenu)\r\n            data.push(obj)\r\n          }\r\n        }\r\n        return data\r\n      },\r\n      formatTitle(name) {\r\n        let names = name.split('_')\r\n        let name2 = name.replace(names[0]+'_', '')\r\n        let name3 = name2.replace('.qwk', '')\r\n        return name3\r\n      },\r\n      goto(path) {\r\n        window.location.href='index.php?to='+encodeURIComponent(path)\r\n      },\r\n      getParent(path) {\r\n        if(this.$route.path==='/add'){\r\n          this.$store.state.path_selected = path\r\n          return\r\n        }\r\n      },\r\n      edit(){\r\n        $.ajax({\r\n          url:'save.php',\r\n          method: 'post',\r\n          type: 'json',\r\n          data: {file: window.CURPATH, action: 'check'},\r\n          success: (data) => {\r\n            if(data.err == 0){\r\n              this.$router.push({ path: '/edit' })\r\n            }\r\n            else{\r\n              this.$Message.error(data.msg)\r\n            }\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout\"},[_c('Layout',[_c('Header',[_c('Menu',{attrs:{\"mode\":\"horizontal\",\"theme\":\"dark\",\"active-name\":\"1\"}},[_c('div',{staticClass:\"layout-logo\"},[_vm._v(\"qWiKi\")]),_vm._v(\" \"),_c('div',{staticClass:\"layout-nav\"},[_c('MenuItem',{attrs:{\"name\":\"1\"}},[_c('router-link',{attrs:{\"to\":\"/add\"}},[_c('Icon',{attrs:{\"type\":\"edit\"}}),_vm._v(\"\\n                        写文档\\n                      \")],1)],1)],1)])],1),_vm._v(\" \"),_c('Layout',[_c('Sider',{style:({background: '#fff'}),attrs:{\"hide-trigger\":\"\"}},[_c('Tree',{attrs:{\"data\":_vm.data,\"render\":_vm.renderContent}})],1),_vm._v(\" \"),_c('Layout',{style:({padding: '0 24px 24px'})},[_c('Breadcrumb',{style:({margin: '24px 0'})},_vm._l((_vm.$store.state.path_curent),function(item,index){return _c('BreadcrumbItem',[_vm._v(\"\\n                      \"+_vm._s(item)+\"\\n                      \"),(index===(_vm.$store.state.path_curent.length-1) && _vm.$route.path!=='/add' && _vm.$route.path!=='/edit')?_c('span',[_c('a',{attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":_vm.edit}},[_c('Icon',{attrs:{\"type\":\"compose\"}})],1)]):_vm._e()])})),_vm._v(\" \"),_c('Content',{style:({padding: '24px', minHeight: '280px', background: '#fff'})},[_c('router-view')],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0ffd1c60\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0ffd1c60\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ffd1c60\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0ffd1c60\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<style scoped>\r\n.attachs {\r\n  margin-top:20px;\r\n}\r\n.attachs ul li {\r\n  list-style-type:none;\r\n}\r\n</style>\r\n<template>\r\n  <div>\r\n    <div v-html=\"html\"></div>  \r\n    <div class=\"attachs\" v-if=\"attachments.length > 0\">\r\n        <div>附件</div>\r\n        <ul>\r\n          <li v-for=\"(item, index) in attachments\">\r\n            <a :href=\"'attachments/'+item.url\" target=\"_blank\"><Icon type=\"android-attach\"></Icon> {{ item.name }}</a>\r\n          </li>\r\n        </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { markdownIt as md } from 'mavon-editor'\r\nexport default {\r\n  name: 'Index',\r\n  data () {\r\n    return {\r\n      attachments: window.ATTACHMENTS\r\n    }\r\n  },\r\n  computed: {\r\n    html: function() {\r\n      let content = window.HTML.html\r\n      let html = md.render(content)\r\n      return this.nl2br(html)\r\n    }\r\n  },\r\n  methods: {\r\n    nl2br (str, is_xhtml) {\r\n      var breakTag = (is_xhtml || typeof is_xhtml === 'undefined') ? '<br />' : '<br>';    \r\n      return (str + '').replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g, '$1'+ breakTag +'$2');\r\n    }\r\n  }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.html)}}),_vm._v(\" \"),(_vm.attachments.length > 0)?_c('div',{staticClass:\"attachs\"},[_c('div',[_vm._v(\"附件\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.attachments),function(item,index){return _c('li',[_c('a',{attrs:{\"href\":'attachments/'+item.url,\"target\":\"_blank\"}},[_c('Icon',{attrs:{\"type\":\"android-attach\"}}),_vm._v(\" \"+_vm._s(item.name))],1)])}))]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f8ea3b2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f8ea3b2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f8ea3b2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f8ea3b2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Index.vue\n// module id = null\n// module chunks = ","<style scoped>\r\n\t.mt15{\r\n\t\tmargin-top: 15px;\r\n\t}\r\n\t.ivu-input{\r\n\t\theight: 50px;\r\n\t}\r\n</style>\r\n<template>\r\n\t<div id=\"editor\">\r\n\t\t<div class=\"mt15\">\r\n\t\t\t<Row>\r\n\t\t\t\t<Col span=\"8\">\r\n\t\t\t\t\t<Input v-model=\"$store.state.path_selected\" placeholder=\"path\" style=\"width: 100%; height:50;\"></Input>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col span=\"2\"></Col>\r\n\t\t\t\t<Col span=\"14\">\r\n\t\t\t\t\t<Input v-model=\"title\" placeholder=\"title\" style=\"width: 100%; height:50; margin-left:20px;\"></Input>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t\t<div class=\"mt15\">\r\n\t      <Upload\r\n\t\t        multiple=\"false\"\r\n\t\t        type=\"drag\"\r\n\t\t        :on-error=\"errHandle\"\r\n\t\t        :on-success=\"successHandle\"\r\n\t\t        :on-remove=\"removeFile\"\r\n\t\t        :default-file-list=\"default_files\"\r\n\t\t        action=\"upload.php\">\r\n\t\t        <div style=\"padding: 20px 0\">\r\n\t\t            <Icon type=\"ios-cloud-upload\" size=\"52\" style=\"color: #3399ff\"></Icon>\r\n\t\t            <p>Click or drag attachments here to upload</p>\r\n\t\t        </div>\r\n\t\t    </Upload>\r\n\t    </div>\r\n\t\t<div class=\"mt15\">\r\n        \t<mavon-editor style=\"height: 100%\" ref=md @imgAdd=\"$imgAdd\" @save=\"saveHtml\" :value=\"html\"></mavon-editor>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mavonEditor } from 'mavon-editor'\r\nimport { markdownIt as md } from 'mavon-editor'\r\nimport 'mavon-editor/dist/css/index.css'\r\nimport $ from 'jquery'\r\nexport default {\r\n  name: 'Add',\r\n  components: {\r\n    mavonEditor\r\n  },\r\n  data () {\r\n    return {\r\n      tag: 0,\r\n      title: '',\r\n      attachments: [],\r\n      default_files: [],\r\n      html: '',\r\n      edit: 0\r\n    }\r\n  },\r\n  mounted () {\r\n    if(this.$route.path==='/add'){\r\n      this.$store.state.path_curent = [\"\", \"新增文档\"]\r\n      this.$store.state.path_selected = '/'\r\n      this.edit = 0\r\n    }\r\n    else{\r\n      this.$store.state.path_curent = window.PATH\r\n      let path_selected = window.PATH.slice(0, -1).join('/')\r\n      this.$store.state.path_selected = (path_selected==='' ? '/' : '') + path_selected \r\n      this.title = window.TITLE\r\n      this.default_files = window.ATTACHMENTS\r\n      this.attachments = window.ATTACHMENTS\r\n      this.html = window.HTML.html\r\n      this.edit = 1\r\n    }\r\n  },\r\n  methods: {\r\n    $imgAdd(pos, $file) {\r\n       var formdata = new FormData();\r\n       formdata.append('image', $file);\r\n       axios({\r\n           url: 'upload.php',\r\n           method: 'post',\r\n           data: formdata,\r\n           headers: { 'Content-Type': 'multipart/form-data' },\r\n       }).then((url) => {\r\n           $vm.$img2Url(pos, url);\r\n       })\r\n    },\r\n  \tsuccessHandle(response, file, fileList){\r\n  \t\tthis.attachments.push(response.file)\r\n  \t\tif(response[\"err\"] > 0){\r\n  \t\t\tthis.$Message.error(response.msg)\r\n  \t\t}\r\n  \t},\r\n    errHandle(err, file, fileList) {\r\n    \tthis.$Message.error(err);\r\n    },\r\n    removeFile(file, fileList) {\r\n    \tlet index = -1\r\n    \tfor(let i in fileList){\r\n    \t\tif(fileList[i]['name']===file['name']){\r\n    \t\t\tindex = i\r\n    \t\t}\r\n    \t}\r\n    \tif(index!==-1){\r\n    \t\tthis.attachments.splice(index, 1)\r\n    \t}\r\n    },\r\n    saveHtml(data) {\r\n    \t$.ajax({\r\n    \t\turl:'save.php',\r\n    \t\tmethod: 'post',\r\n    \t\ttype: 'json',\r\n    \t\tdata: {path: this.$store.state.path_selected, title: this.title, content: data, attachments: JSON.stringify(this.attachments), file: window.CURPATH, edit: this.edit},\r\n    \t\tsuccess: (data) => {\r\n    \t\t\tif(data.err == 0){\r\n    \t\t\t\tthis.$Message.success(data.msg)\r\n    \t\t\t\twindow.location.href='index.php?to='+data.to\r\n    \t\t\t}\r\n    \t\t\telse{\r\n    \t\t\t\tthis.$Message.error(data.msg);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editor\"}},[_c('div',{staticClass:\"mt15\"},[_c('Row',[_c('Col',{attrs:{\"span\":\"8\"}},[_c('Input',{staticStyle:{\"width\":\"100%\",\"height\":\"50\"},attrs:{\"placeholder\":\"path\"},model:{value:(_vm.$store.state.path_selected),callback:function ($$v) {_vm.$set(_vm.$store.state, \"path_selected\", $$v)},expression:\"$store.state.path_selected\"}})],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"2\"}}),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"14\"}},[_c('Input',{staticStyle:{\"width\":\"100%\",\"height\":\"50\",\"margin-left\":\"20px\"},attrs:{\"placeholder\":\"title\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"mt15\"},[_c('Upload',{attrs:{\"multiple\":\"false\",\"type\":\"drag\",\"on-error\":_vm.errHandle,\"on-success\":_vm.successHandle,\"on-remove\":_vm.removeFile,\"default-file-list\":_vm.default_files,\"action\":\"upload.php\"}},[_c('div',{staticStyle:{\"padding\":\"20px 0\"}},[_c('Icon',{staticStyle:{\"color\":\"#3399ff\"},attrs:{\"type\":\"ios-cloud-upload\",\"size\":\"52\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"Click or drag attachments here to upload\")])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"mt15\"},[_c('mavon-editor',{ref:\"md\",staticStyle:{\"height\":\"100%\"},attrs:{\"value\":_vm.html},on:{\"imgAdd\":_vm.$imgAdd,\"save\":_vm.saveHtml}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-688d69b2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-688d69b2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Add.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-688d69b2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-688d69b2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Add.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Index from '@/components/Index'\r\nimport Add from '@/components/Add'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n  \t{\r\n      path: '/',\r\n      name: 'Index',\r\n      component: Index\r\n    },\r\n    {\r\n      path: '/add',\r\n      name: 'Add',\r\n      component: Add\r\n    },\r\n    {\r\n      path: '/edit',\r\n      name: 'Add',\r\n      component: Add\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport iView from 'iview'\r\nimport 'iview/dist/styles/iview.css'\r\nimport Vuex from 'vuex'\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.use(iView);\r\nVue.use(Vuex);\r\n\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    path_selected: '/',\r\n    path_curent: window.PATH\r\n  },\r\n  mutations: {\r\n    \r\n  }\r\n})\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}